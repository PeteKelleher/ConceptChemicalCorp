<?xml version="1.0" encoding="UTF-8"?>
<odoo>
        
        <template id="report_purchaseorder_inherited" inherit_id="purchase.report_purchaseorder_document">
<!--        	<xpath expr="//t[@t-call='web.external_layout']" position="before">-->
<!--          		<t t-set="is_pod_doc" t-value="True"/>-->
<!--            </xpath>-->
			<xpath expr="//div[1][@t-if='o.name']" position="replace">
				<div t-if="o.name" class="col-3 bm-2">
                    <strong>Supplier Reference:</strong>
                    <p t-field="o.name" class="m-0"/>
                </div>
			</xpath>
            <xpath expr="//t/t[2][@t-set='address']" position="replace">
                <t t-if="o.state in ['purchase', 'done']">
                    <t t-set="information_block">
                        <t t-set="address">
                        	<br/>
                            <strong>Supplier Address:</strong>
                            <div t-field="o.partner_id"
                            t-options='{"widget": "contact", "fields": ["address", "name", "phone"], "no_marker": True, "phone_icons": True}'/>
                            <p t-if="o.partner_id.vat"> <t t-if="o.partner_id.country_id.name != 'United States'"><t t-esc="o.company_id.country_id.vat_label or 'Tax ID'"/>:</t> <span t-field="o.partner_id.vat"/></p>
                        </t>
                    </t>
                </t>
            </xpath>
            <xpath expr="//t/t[@t-if='o.dest_address_id']" position="replace">
                <t t-if="o.state not in ['purchase', 'done']">
                    <t t-if="o.dest_address_id">
                        <t t-set="information_block">
                        	<br/>
                            <strong>Shipping address:</strong>
                            <div t-if="o.dest_address_id">
                                <div t-field="o.dest_address_id"
                                    t-options='{"widget": "contact", "fields": ["address", "name", "phone"], "no_marker": True, "phone_icons": True}' name="purchase_shipping_address"/>
                            </div>
            
                        </t>
                    </t>
                </t>
                <t t-if="o.state in ['purchase', 'done']">
                    <t t-if="not o.dest_address_id and o.picking_type_id.warehouse_id">
                        <t t-set="information_block">
                        	<br/>
                            <strong>Our Shipping address:</strong>
                                <div t-if="not o.dest_address_id and o.picking_type_id.warehouse_id">
                                    <span t-field="o.picking_type_id.warehouse_id.name"/>
                                    <div t-field="o.picking_type_id.warehouse_id.partner_id" t-options="{&quot;widget&quot;: &quot;contact&quot;, &quot;fields&quot;: [&quot;address&quot;, &quot;phone&quot;], &quot;no_marker&quot;: True, &quot;phone_icons&quot;: True}"/>
                                </div>
                        </t>
                    </t>
                </t>
            </xpath>
            <xpath expr="//div/div[2][@id='informations']" position="inside"> 
            	<div t-if="o.incoterm_id" class="col-3 bm-2">
                    <strong>Incoterms:</strong>
                    <p t-field="o.incoterm_id" class="m-0"/>
                </div>
                <div t-if="o.custom_date_required" class="col-3 bm-2">
                    <strong>Date Required:</strong>
                    <p t-field="o.custom_date_required" t-options='{"format": "d MMMM y"}' class="m-0"/>
                </div>
            </xpath>
            <xpath expr="//t/div/h2[3]" position="replace">
            	<h2 class="text-center" t-if="o.state in ['purchase', 'done']">Purchase Order #<span t-field="o.name"/></h2>
            </xpath>
            
            <xpath expr="//div/div[2]/div[@t-if='o.date_order']" position="replace">
                <t t-if="o.state in ['purchase', 'done']">
                    <div t-if="o.date_order" class="col-3 bm-2">
                        <strong>Order Date:</strong>
                        <p t-field="o.date_order" class="m-0" t-options="{&quot;format&quot;: &quot;dd/MM/yyyy&quot;}" />
                    </div>
                </t>
                <t t-if="o.state not in ['purchase', 'done']">
                    <div t-if="o.date_order" class="col-3 bm-2">
                        <strong>Order Date:</strong>
                        <p t-field="o.date_order" class="m-0" t-options="{&quot;format&quot;: &quot;dd/MM/yyyy&quot;}"/>
                    </div>
                </t>
            </xpath>
            <xpath expr="//div/table" position="replace">
                <table class="table table-sm o_main_table">
                <thead>
                    <tr>
                        <th>
                            <t t-if="o.state not in ['purchase', 'done']">
                                <strong>Description</strong>
                            </t>
                             <t t-if="o.state in ['purchase', 'done']">
                                <strong>Product Name</strong>
                            </t>
                        </th>
                        <th>
                             <t t-if="o.state in ['purchase', 'done']">
                                <strong>Pack Size(KG)</strong>
                            </t>
                            <t t-if="o.state not in ['purchase', 'done']">
                                <strong>Pack Size(KG)</strong>
                            </t>
                        </th>
                       <!-- <th> 
                             <t t-if="o.state in ['purchase', 'done']">
                                <strong>INCI Name</strong>
                            </t>
                            <t t-if="o.state not in ['purchase', 'done']">
                                <strong>INCI Name</strong>
                            </t>
                        </th>-->
                        <th>
                             <t t-if="o.state in ['purchase', 'done']">
                                <strong>Batch Number</strong>
                            </t>
                            <t t-if="o.state not in ['purchase', 'done']">
                                <strong>Batch Number</strong>
                            </t>
                        </th>
                        <th>
                             <t t-if="o.state in ['purchase', 'done']">
                                <strong>Unit Quantity</strong>
                            </t>
                            <t t-if="o.state not in ['purchase', 'done']">
                                <strong>Unit Quantity</strong>
                            </t>
                        </th>
                        <th>
                             <t t-if="o.state in ['purchase', 'done']">
                                <strong>UOM</strong>
                            </t>
                            <t t-if="o.state not in ['purchase', 'done']">
                                <strong>UOM</strong>
                            </t>
                        </th>
<!--                        <th class="text-center">-->
<!--                            <t t-if="o.state not in ['purchase', 'done']">-->
<!--                                <strong>Date Required</strong>-->
<!--                            </t>-->
<!--                            <t t-if="o.state in ['purchase', 'done']">-->
<!--                                <strong>Date Required</strong>-->
<!--                            </t>-->
<!--                        </th>-->
                        <th class="text-center">
                             <t t-if="o.state in ['purchase', 'done']">
                                <strong>Weight For Shipping</strong>
                            </t>
                            <t t-if="o.state not in ['purchase', 'done']">
                                <strong>Weight For Shipping</strong>
                            </t>
                        </th>
                        <!--
                        <th>
                            <t t-if="o.state not in ['purchase', 'done']">
                                <strong>Taxes</strong>
                            </t>
                            <t t-if="o.state in ['purchase', 'done']">
                                <strong>Taxes</strong>
                            </t>
                        </th>
                        <th class="text-right"> 
                            <strong>Qty</strong>
                        </th>-->
                        <th class="text-right">
                            <t t-if="o.state not in ['purchase', 'done']">
                                <strong>Unit Price</strong>
                            </t>
                            <t t-if="o.state in ['purchase', 'done']">
                                <strong>Unit Price</strong>
                            </t>
                        </th>
                        <th class="text-right"><strong>Total Amount</strong></th>
                    </tr>
                </thead>
                <tbody>
                    <tr t-foreach="o.order_line" t-as="line">
                        <td width="20%">
                            <t t-if="o.state in ['purchase', 'done']">
                                <span t-field="line.product_id.name"/><span t-field="line.product_id.x_studio_field_xYGHQ"/>
                            </t>
                            <t t-if="o.state not in ['purchase', 'done']">
                                <span t-field="line.name"/>
                            </t>
                        </td>
                        <td></td>
                       <!-- <td>
                        	<t t-if="o.state in ['purchase', 'done']">
                                <span t-field="line.product_id.x_studio_field_xYGHQ"/><span t-field="line.product_id.x_studio_field_xYGHQ"/>
                            </t>
                            <t t-if="o.state not in ['purchase', 'done']">
                                <span t-field="line.product_id.x_studio_field_xYGHQ"/>  
                            </t>
                        </td>-->
                        <td></td>
                        <td class="text-right">
                            <span t-field="line.product_qty"/>
                        </td>
                        <td class="text-right">
                            <span t-field="line.product_uom.name" groups="uom.group_uom"/>
                        </td>
                      <!--  <td class="text-right"> 
                            <t t-if="o.state not in ['purchase', 'done']">
                                <span t-field="line.date_planned"/>
                            </t>
                            <t t-if="o.state in ['purchase', 'done']">
                                <span t-field="line.date_planned" t-options='{"format": "d MMMM y"}'/>
                            </t>
                        </td>-->
                         <td class="text-center">
                        	<span t-field="line.product_id.weight"/>
                        </td>
                        <!--<td>
                            <t t-if="o.state not in ['purchase', 'done']">
                                <span t-esc="', '.join(map(lambda x: x.name, line.taxes_id))"/>
                            </t>
                            <t t-if="o.state in ['purchase', 'done']">
                                
                            </t>
                        </td>-->
                        <td class="text-right">
                            <t t-if="o.state not in ['purchase', 'done']">
                                <span t-field="line.price_unit"/>
                            </t>
                            <t t-if="o.state in ['purchase', 'done']">
                                <span t-field="line.price_unit"/>
                            </t>
                        </td>
                        <td class="text-right">
                            <span t-field="line.price_subtotal"
                                t-options='{"widget": "monetary", "display_currency": o.currency_id}'/>
                        </td>
                    </tr>
                </tbody>
            </table>
            </xpath>
            <xpath expr="//div/div[3]/div/table/tr[2]/td[1]" position="replace">
               <t t-if="o.state in ['purchase', 'done']"> 
                    <td><font color="#875a7b"><b>GST</b></font></td>
                </t>
                <t t-if="o.state not in ['purchase', 'done']"> 
                    <td><font color="#875a7b"><b>Taxes</b></font></td>
                </t>
            </xpath>
            <xpath expr="//t/div/div[3]/div/table/tr[1]/td" position="replace">
               <t t-if="o.state in ['purchase', 'done']"> 
                    <td><strong>Sub Total  <span t-field="o.currency_id.name"/></strong></td>
                </t>
                <t t-if="o.state not in ['purchase', 'done']"> 
                    <td><strong>Sub Total</strong></td>
                </t>
            </xpath>
            <xpath expr="//t/div/div[3]/div/table/tr[3]/td" position="replace">
               <t t-if="o.state in ['purchase', 'done']"> 
                    <td><strong>Total Amount<span t-field="o.currency_id.name"/></strong></td>
                </t>
                <t t-if="o.state not in ['purchase', 'done']"> 
                    <td><strong>Total Amount</strong></td>
                </t>
            </xpath>
            <xpath expr="//t/div/div[3]/div/table" position="inside">
          	<td><strong>Currency</strong></td>
            <td class="text-right">
                <span t-field="o.currency_id"/>
            </td>
          </xpath>
        </template>

</odoo>
